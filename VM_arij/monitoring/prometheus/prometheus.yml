global:
  scrape_interval:     15s
  evaluation_interval: 15s

scrape_configs:
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']

  - job_name: 'node-exporter'
    static_configs:
      - targets: ['node-exporter:9100']

alerting:
  alertmanagers:
  - static_configs:
    - targets:
      - "alertmanager:9093"

rules:
- alert: DiskSpaceAlert
  expr: 100 - (100 * node_filesystem_avail_bytes / node_filesystem_size_bytes) > 90
  for: 1m
  annotations:
    summary: "Disk space is running low"
